<!DOCTYPE html>
<html lang="en">
<head>
	<title></title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/forms-min.css">
	<link href="https://fonts.googleapis.com/css?family=Libre+Baskerville" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="css/mainstyle.css">
	<link rel="stylesheet" href="css/alternatives.css">
	<link rel="stylesheet" href="css/components/modal.css">
	<link rel="stylesheet" href="css/components/tabs.css">
	<link rel="stylesheet" href="css/vue.css">
	<link rel="stylesheet" href="css/animations.css">
</head>
<body>
	<div id="app" v-cloak>
		<!-- NAVBAR -->
		<div id="nav-row" class="row">
		    <nav class="navbar navbar-fixed-top">
		        <div class="container-fluid">
		            <div class="navbar-header">
		                <a class="navbar-brand" href="#">Vue Form Editor</img></a>
		            </div>
		            <ul class="nav navbar-nav" style="margin-left: 230px">
		                <li><a href="#"><i style="color: white; font-size: 1.5em" class="fa fa-undo" aria-hidden="true"></i></a></li>
		                <li><a href="#"><i style="color: white; font-size: 1.5em" class="fa fa-repeat" aria-hidden="true"></i></a></li>
		            </ul>
		        </div>
		    </nav>
		</div>


		<div class="row-fluid">
			<!-- LEFT SIDE MENU -->
			<div class="col-lg-3 col-md-3 col-sm-3">
				<div id="left-side-menu">
					<div class="panel panel-default">
						<div class="panel-heading" data-toggle="collapse" data-target="#advancedList">
							<div class="row">
								<div class="col-lg-10">
									<span style="margin-right: 5px;">Avansert</span>
								</div>
								<div class="col-lg-2">
									<i style="margin-top: 5px; margin-left: 10px;" class="glyphicon glyphicon-chevron-down"></i>
								</div>
							</div>
						</div>
						<div class="panel-body collapse" id="advancedList">
						    <ul class="list-group">
								<draggable v-model="advancedList" :clone="clone" :options="{group:{name: 'form', pull: 'clone', put: false, revertClone: false}, sort: false}">
						            <li id="advlistitem" v-on:click="addQuestion(item.type)" v-for="item in advancedList" class="list-group-item question-types">
										{{item.type}}
										<span class="badge">
											<i class="glyphicon glyphicon-move"></i>
										</span>
							        </li>
								</draggable>
						    </ul>
						</div>
					</div>
					<div class="panel panel-default">
						<div class="panel-heading" style="" data-toggle="collapse" data-target="#list">
							<div class="row">
								<div class="col-lg-10">
									<span style="margin-right: 5px;">Types</span>
								</div>
								<div class="col-lg-2">
									<i style="margin-top: 5px; margin-left: 10px;" class="glyphicon glyphicon-chevron-down"></i>
								</div>
							</div>
						</div>
						<div class="panel-body collapse in" id="list">
						    <ul class="list-group">
								<draggable v-model="list" :clone="clone" :options="{group:{name: 'form', pull: 'clone', put: false, revertClone: false}, sort: false}">
										<transition-group name="fade">
						            <li id="listitem" v-on:click="addQuestion(item.type)"  v-for="(item, index) in list" :key="index" class="list-group-item question-types">
						                {{item.type}}
										<span class="badge">
											<i class="glyphicon glyphicon-move"></i>
										</span>
						            </li>
									  </transition-group>
								</draggable>
						    </ul>
						</div>
					</div>
				</div>
			</div>

			<!-- FORM -->
			<div id="form-container" class="col-lg-5 col-md-9 col-sm-9">
				<tabs>
					<tab name="Edit" selected="true">
						<div id="home" class="tab-pane fade in active">
						    <div style="border-radius: 0px 0px 0px 0px;" class="panel panel-default">
						        <div id="form" style="100%" class="panel-body">
									<ul class="list-group" style="min-height: 700px;">
										<draggable v-model="formList" @end="playAnimations = !playAnimations" :options="{group: 'form', animation: 400}" style="min-height: 700px;">
											   <li v-for="(question, index) in formList" :key="index" class="list-group-item">
												   <question :question="question" :key="index" :toggle="toggle" @clone="cloneQuestion(question)" @remove="removeQuestion(question)"></question>
											   </li>
									   </draggable>
									</ul>
						        </div>
						    </div>
						</div>
					</tab>
					<tab name="Preview">
						<div class="panel panel-default">
							<div id="form" class="panel-body">
								<ul class="list-group">
								   <li v-for="(question, index) in formList" v-bind:class="{smoke: question.type == 'Tittel'}" :key="index" class="list-group-item">
									   <finished-question :key="index" :question="question"></finished-question>
								   </li>
								</ul>
							</div>
						</div>
					</tab>
				</tabs>
			</div>


			<!-- RIGHT SIDE MENU -->
			<div class="col-lg-4 hidden-md hidden-sm">
				<div id="right-side-menu">
					<transition name="slide-fade">
						<div v-show="show == true" class="panel panel-default">
					        <div class="panel-heading">Shortcut keys</div>
					        <div class="panel-body">
								<table style="" class="table">
									<tr>
										<th>Element</th>
										<th>Function</th>
										<th>Key</th>
									</tr>
									<tr>
										<td>Input field</td>
										<td>Add new field</td>
										<td>Enter</td>
									</tr>
									<tr>
										<td>Input field</td>
										<td>Delete field content</td>
										<td>Delete</td>
									</tr>
									<tr>
										<td>Global</td>
										<td>Delete form</td>
										<td>alt + s</td>
									</tr>
									<tr>
										<td>Global</td>
										<td>Show delete form modal</td>
										<td>alt + a</td>
									</tr>
									<tr>
										<td>Input field</td>
										<td>Focus previous field</td>
										<td>Up arrow</td>
									</tr>
									<tr>
										<td>Input field</td>
										<td>Focus next field</td>
										<td>Down arrow</td>
									</tr>
								</table>
							</div>
					    </div>
					</transition>
					<!-- {{formList}} -->
				    <ul class="list-group">
				        <li class="list-group-item">
							<button @click="showModal = 'delete'" class="btn btn-default default-btn"><i class="glyphicon glyphicon-trash"></i></button>
						</li>
						<li class="list-group-item">
							<button @click="saveForm" @dbclick="saveForm" class="btn btn-default default-btn"><i class="glyphicon glyphicon-share"></i></button>
					  	</li>
				    </ul>
				</div>
			</div>
		</div>

		<modal v-if="showModal == 'finish' || showModal == 'delete'" @close="saveForm">
			<!-- HEADER -->
			<h3 v-if="showModal == 'finish'" slot="header">Save and proceed?</h3>
			<h3  v-if="showModal == 'delete'" slot="header" style="text-align: center;">Delete form?</h3>
			<!-- MAIN -->
			<p v-if="showModal == 'finish'" style="text-align: center" slot="body">This will save the form</p>
			<p v-if="showModal == 'delete'" style="text-align: center" slot="body">This will delete the entire form permanently</p>
			<!-- FOOTER -->
			<div v-if="showModal == 'delete'" slot="footer">
				<button style="background: #FF715B" class="btn" @click="deleteForm">Delete form <!-- FF715B B2301C--></button>
				<button class="btn" @click="showModal = 'none'">Cancel</button>
			</div>
		</modal>
	</div>

	<!-- external libraries -->
	<script src="https://unpkg.com/vue"></script>
	<!-- <script src="https://cdn.jsdelivr.net/sortable/1.4.2/Sortable.min.js"></script> -->
	<script src="//cdnjs.cloudflare.com/ajax/libs/Sortable/1.6.0/Sortable.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Vue.Draggable/2.11.0/vuedraggable.min.js"></script>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<!-- internal libraries  -->
	<!-- <script src="lib/hotkeys.js"></script> -->
	<!-- custom components -->
	<script src="components/custom-input.js"></script>
	<script src="components/custom-modal.js"></script>
	<script src="components/tab.js"></script>
	<script src="components/tabs.js"></script>
	<script src="components/question.js"></script>
	<script src="components/finished-question.js"></script>
	<!-- custom directives -->
	<script src="js/global-custom-directives.js"></script>
	<!-- vue root instance -->
	<script src="js/main.js"></script>

</body>
</html>
